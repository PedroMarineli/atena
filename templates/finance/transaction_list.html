{% extends 'base.html' %}

{% block content %}
<div x-data="{ open: false }">
    <div class="flex justify-between items-center mb-4">
        <h2 class="text-2xl font-bold">Financeiro</h2>
        <button hx-get="{% url 'transaction_create' %}" hx-target="#modal-content" @click="open = true"
            class="bg-accent hover:bg-accent-hover text-white font-bold py-2 px-4 rounded transition-colors">
            Nova Transação
        </button>
    </div>

    <div class="bg-white shadow-md rounded-xl border border-slate-200 p-6">
        <table class="w-full divide-y divide-slate-200">
            <thead class="bg-slate-50">
                <tr>
                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
                        Descrição</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Valor
                    </th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Tipo
                    </th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Status
                    </th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
                        Vencimento</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">
                        Pagamento</th>
                    <th class="px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider">Ações
                    </th>
                </tr>
            </thead>
            <tbody id="transaction-table-body">
                {% include 'finance/partials/transaction_list_rows.html' %}
            </tbody>
        </table>
    </div>

    <!-- Modal -->
    <div x-show="open" class="fixed inset-0 bg-slate-900/50 overflow-y-auto h-full w-full backdrop-blur-sm"
        x-transition:enter="transition ease-out duration-300" x-transition:enter-start="opacity-0"
        x-transition:enter-end="opacity-100" x-transition:leave="transition ease-in duration-200"
        x-transition:leave-start="opacity-100" x-transition:leave-end="opacity-0" style="display: none;">
        <div class="relative top-20 mx-auto p-5 border border-slate-200 w-96 shadow-xl rounded-xl bg-white">
            <div id="modal-content">
                <!-- Content loaded via HTMX -->
            </div>
        </div>
    </div>
</div>
{% endblock %}